!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t.replace(/([àáâãäå])|([ç])|([èéêë])|([ìíîï])|([ñ])|([òóôõöø])|([ß])|([ùúûü])|([ÿ])|([æ])/g,function(t,e,n,r,i,s,o,a,c,u,l){return e?"a":n?"c":r?"e":i?"i":s?"n":o?"o":a?"s":c?"u":u?"y":l?"ae":void 0})}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=r(["Find citizen-led walks in your city"],["Find citizen-led walks in your city"]),h=r(["Add "," to Jane's Walk"],["Add "," to Jane's Walk"]),f=n(2),_=React,p=_.createElement,v=_.Component,d=JanesWalk,E=d.startups,y=d.event,g=function(t,e){return a(t.toLowerCase()).indexOf(a(e.toLowerCase()))>-1},m=function(t){var e=t.id,n=t.name,r=t.url;return p("li",{key:"city"+e},p("a",{href:r},n))},T=function(t){var e=t.id,n=t.name,r=t.url,i=t.cities;return p("li",{key:"country"+e,className:"country"},p("a",{href:r},n),p("ul",{className:"cities"},i.map(function(t){return p(m,u({key:"city"+t.id},t))})))},b=function(t){function e(t){i(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Object.assign(n,{state:{q:"",matched:t.countries},handleInput:function(t){var e=t.target.value,r=[];n.props.countries.forEach(function(t){var n=t.cities.filter(function(t){return!e||g(t.name,e)});n.length&&r.push(Object.assign({},t,{cities:n}))}),n.setState({q:e,matched:r})},handleSubmit:function(t){var e=n.state.matched[0];t.persist(),e&&!function(){var r=e.cities[0];r&&n.setState({q:r.name},function(){t.target.action=r.url})}()}}),n}return o(e,t),c(e,[{key:"render",value:function(){var t=this.state,e=t.q,n=t.matched,r=this.props.user,i=p("h3");return r&&r.city&&(i=p("h3",null,"See walks in ",p("a",{href:r.city.url},r.city.name))),p("div",{className:"ccm-page-list-typeahead"},p("form",{onSubmit:this.handleSubmit},p("fieldset",{className:"search"},p("input",{type:"text",name:"selected_option",className:"typeahead",placeholder:(0,f.translateTag)(l),autoComplete:"off",value:this.state.q,onChange:this.handleInput}),p("button",{type:"submit"},"Go"),p("ul",null,n.map(function(t){return p(T,u({key:t.id},t))}),0===n.length?p("li",null,p("a",{href:"/city-organizer-onboarding"},(0,f.translateTag)(h,e))):null))),i)}}]),e}(v);E.dom.then(function(){var t=JanesWalk,e=t.user;y.on("countries.receive",function(t){return ReactDOM.render(p(b,{countries:t,user:e}),document.getElementById("ccm-jw-page-list-typeahead"))})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.tc=e.translateTag=e.t2=e.t=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(3),a=r(o),c=n(5),u=n(9),l=n(10),h=r(l),f=new h.default,_=s({},a.default,{getTranslate:function(){return f.translate.bind(f)},getTranslateTag:function(){return f.translateTag.bind(f)},getTranslatePlural:function(){return f.translatePlural.bind(f)},dispatchToken:(0,c.register)(i({},u.ActionTypes.I18N_RECEIVE,function(t){var e=t.translations;return f.constructor(e)}),function(){return _.emitChange()})});e.default=_;e.t=_.getTranslate(),e.t2=_.getTranslatePlural(),e.translateTag=_.getTranslateTag(),e.tc=function(t,e){return e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(4),o=r(s),a="change",c=i({},o.default.prototype,{emitChange:function(){this.emit(a)},addChangeListener:function(t){this.on(a,t)},removeChangeListener:function(t){this.removeListener(a,t)}});e.default=c},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,a,c,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(s(n))for(a=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,c=0;c<i;c++)u[c].apply(this,a);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(i=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,o,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitFor=e.dispatch=e.register=void 0;var r=n(6),i=new r.Dispatcher,s=i.dispatch.bind(i),o=i.waitFor.bind(i),a=function(t,e){return i.register(function(n){t.hasOwnProperty(n.type)&&(t[n.type](n),e&&e(n))})};e.default=i,e.register=a,e.dispatch=s,e.waitFor=o},function(t,e,n){t.exports.Dispatcher=n(7)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(8),s="ID_",o=function(){function t(){r(this,t),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return t.prototype.register=function(t){var e=s+this._lastID++;return this._callbacks[e]=t,e},t.prototype.unregister=function(t){this._callbacks[t]?void 0:i(!1),delete this._callbacks[t]},t.prototype.waitFor=function(t){this._isDispatching?void 0:i(!1);for(var e=0;e<t.length;e++){var n=t[e];this._isPending[n]?this._isHandled[n]?void 0:i(!1):(this._callbacks[n]?void 0:i(!1),this._invokeCallback(n))}},t.prototype.dispatch=function(t){this._isDispatching?i(!1):void 0,this._startDispatching(t);try{for(var e in this._callbacks)this._isPending[e]||this._invokeCallback(e)}finally{this._stopDispatching()}},t.prototype.isDispatching=function(){return this._isDispatching},t.prototype._invokeCallback=function(t){this._isPending[t]=!0,this._callbacks[t](this._pendingPayload),this._isHandled[t]=!0},t.prototype._startDispatching=function(t){for(var e in this._callbacks)this._isPending[e]=!1,this._isHandled[e]=!1;this._pendingPayload=t,this._isDispatching=!0},t.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},t}();t.exports=o},function(t,e,n){"use strict";var r=function(t,e,n,r,i,s,o,a){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],l=0;c=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return u[l++]}))}throw c.framesToPop=1,c}};t.exports=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["I18N_RECEIVE","WALK_RECEIVE","WALK_RECEIVE_ALL","WALK_SAVE","WALK_PUBLISH","WB_RECEIVE_WALK","WB_REMOVE_ACCESSIBLE","WB_REMOVE_IMAGE","WB_REMOVE_THEME","WB_SET_ACCESSIBLE","WB_SET_DURATION","WB_SET_IMAGE","WB_SET_LONG_DESCRIPTION","WB_SET_SHORT_DESCRIPTION","WB_SET_THEME","WB_SET_TIME","WB_SET_TITLE","WB_SET_ACCESSIBLE_INFO","WB_SET_ACCESSIBLE_TRANSIT","WB_SET_ACCESSIBLE_FIND","WB_TEAM_ADD","WB_TEAM_REMOVE","WB_TEAM_UPDATE","WB_POINT_ADD","WB_POINT_REMOVE","WB_POINT_UPDATE","WB_POINT_INDEX","WB_POINT_UNDO","CITY_RECEIVE","AREA_RECEIVE","USER_RECEIVE","USER_RECEIVE_ALL","ITINERARY_RECEIVE","ITINERARY_REMOVE_WALK","ITINERARY_ADD_WALK","ITINERARY_SCHEDULE_WALK","ITINERARY_UNSCHEDULE_WALK","ITINERARY_UPDATE_TITLE","ITINERARY_UPDATE_DESCRIPTION","ITINERARY_CREATE_LIST","ITINERARY_RECEIVE_ALL","ITINERARY_SYNC_START","ITINERARY_SYNC_END"].reduce(function(t,e){return t[e]=Symbol(e),t},{}),r={google:"AIzaSyA4iGa8LuLYBdttynMXjO9Vy6JaqaiPuVw"};e.ActionTypes=n,e.keys=r},function(t,e){"use strict";function n(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.replace(/%(s|d)/g,function(){return n.shift()})}function r(t){t&&(this.translations=t)}var i=function(){function t(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,s=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.assign(r.prototype,{translations:{},translate:function(t){for(var e=this.translations[t]||[],r=i(e,1),s=r[0],o=arguments.length,a=Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return n.apply(void 0,[s||t].concat(a))},translateTag:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.translate.apply(this,[t.join("%s")].concat(n))},translatePlural:function(t,e,r){var i=1!==r?1:0,s=(this.translations[t+"_"+e]||[t,e])[i];return n(s,r)},translateContext:function(t,e){for(var r=arguments.length,i=Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];n.apply(void 0,[t+"_"+e].concat(i))}}),t.exports=r}]);